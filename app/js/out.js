!function t(e,i,n){function o(s,h){if(!i[s]){if(!e[s]){var a="function"==typeof require&&require;if(!h&&a)return a(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=i[s]={exports:{}};e[s][0].call(l.exports,function(t){var i=e[s][1][t];return o(i?i:t)},l,l.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t){var e=t("./source/game"),i=new e({canvasId:"gameCanvas"});console.log(i.getCanvas())},{"./source/game":4}],2:[function(t,e){function i(t,e){this.ctx=e,this.opt=t,this.x=t.x,this.y=t.y,this.path=t.path,this.pathPosition=Math.round(200*Math.random()),this.render()}i.prototype={render:function(){var t=this,e=(t.opt,t.ctx);e.fillStyle="#666",e.fillRect(t.x,t.y,10,10)},move:function(){var t=this;t.path.length<t.pathPosition+20||(t.x=t.path[t.pathPosition].x,t.y=t.path[t.pathPosition].y,t.pathPosition+=5,t.render())}},e.exports=i},{}],3:[function(t,e){function i(){for(var t,e,i,o,r,s,h,a,l,p,u,c=[],i=1;i<n.length;i++)for(t=n[i-1],e=n[i],r=e.x-t.x,s=e.y-t.y,h=0==r?s:r,a=0==r?!0:!1,o=0;o<Math.abs(h);o++)u=0>h?-o:o,a?(l=t.x,p=t.y+u):(l=t.x+u,p=t.y),c.push({x:l,y:p});return console.log(c),c}var n=[];n.push({x:660,y:0}),n.push({x:660,y:100}),n.push({x:220,y:100}),n.push({x:220,y:220}),n.push({x:60,y:220}),n.push({x:60,y:340}),n.push({x:220,y:340}),n.push({x:220,y:420}),n.push({x:340,y:420}),e.exports=i},{}],4:[function(t,e){function i(t){this.options=t,this.level={},this.initCanvas(),this.createLevel(o)}var n=(t("./tile"),t("./level")),o=t("./levels/level-1");i.prototype={getCanvas:function(){return"canvas"},initCanvas:function(){var t=this;t.ctx=document.getElementById(t.options.canvasId).getContext("2d");var e=t.ctx;e.fillStyle="#FF0000",e.canvas.addEventListener("click",function(t){console.log(t.layerX,t.layerY)}),t.ctx.canvas.addEventListener("mousemove",function(e){t.level&&t.level.mouseMoveHandler(e.layerX,e.layerY)})},createLevel:function(t){var e=this;e.level=new n(t,e)}},e.exports=i},{"./level":5,"./levels/level-1":6,"./tile":7}],5:[function(t,e){function i(t,e){this.level=t,this.game=e,this.tiles=[],this.enemies=[],this.towers=[],this.render(),this.tick()}var n=t("./tile"),o=t("./enemy"),r=t("./tower"),s=t("./enemyMovePath");i.prototype={render:function(){var t,e,i,h=this,a=h.level.map.length,l=h.level.map[0].length,p=h.game.ctx,u=s();for(t=0;a>t;t++)for(e=0;l>e;e++)i=new n({x:e,y:t,type:h.level.map[t][e]},p),h.tiles.push(i);for(t=20;t>=0;t--){var c=new o({x:0,y:0,path:u},p);h.enemies.push(c)}for(t=5;t>=0;t--){var f=new r({x:Math.round(600*Math.random()),y:Math.round(600*Math.random()),type:"b"},p);this.towers.push(f)}},redraw:function(){var t,e=this,i=e.tiles.length,n=e.enemies.length,o=e.towers.length;for(t=0;i>t;t+=1)e.tiles[t].render();for(t=0;n>t;t+=1)e.enemies[t].move();for(t=0;o>t;t+=1)e.towers[t].render(),e.towers[t].checkEnemies(e.enemies)},mouseMoveHandler:function(t,e){var i,n=this,o=n.tiles.length;for(i=0;o>i;i+=1)n.tiles[i].hover(t,e)},tick:function(){var t=this;setTimeout(function(){t.redraw(),t.tick()},20)}},e.exports=i},{"./enemy":2,"./enemyMovePath":3,"./tile":7,"./tower":8}],6:[function(t,e){var i={map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,1,0,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0]],enemy:[[1,1]]};e.exports=i},{}],7:[function(t,e){function i(t,e){this.opt=t,this.ctx=e,this.width=40,this.height=40,this.posX=this.opt.x*this.width,this.posY=this.opt.y*this.height,this.type=this.opt.type,this.isHover=!1,this.render()}i.prototype={render:function(){var t=this,e=t.opt,i=t.ctx;i.fillStyle=1===e.type||8===e.type||9===e.type?"#ddd":"#fff",t.isHover&&(i.fillStyle="#555"),i.fillRect(t.posX,t.posY,t.width,t.height)},hover:function(t,e){{var i=this;i.ctx}i.isHover=t>=i.posX&&t<i.posX+i.width&&e>=i.posY&&e<i.posY+i.height?!0:!1}},e.exports=i},{}],8:[function(t,e){function i(t,e){this.x=t.x,this.y=t.y,this.type=t.type,this.radius=t.radius||5,this.range=t.range||60,this.shootSpeed=20,this.ctx=e}i.prototype={render:function(){var t=this,e=t.ctx;e.beginPath(),e.fillStyle="rgba(255, 77, 200, 0.1)",e.arc(t.x,t.y,t.range,0,2*Math.PI),e.fill(),e.beginPath(),e.fillStyle="#555",e.arc(t.x,t.y,t.radius,0,2*Math.PI),e.fill(),t.radius>15&&(t.radius=5)},checkEnemies:function(t){var e,i,n,o,r,s=this,h=t.length;for(e=0;h>e;e++)r=t[e],n=Math.abs(r.x-s.x),o=Math.abs(r.y-s.y),i=Math.sqrt(n*n+o*o),i<s.range}},e.exports=i},{}]},{},[1]);